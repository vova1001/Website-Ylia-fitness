"use strict";(self.webpackChunkjuliaazhivaeva=self.webpackChunkjuliaazhivaeva||[]).push([[834],{342:(e,a,t)=>{t.d(a,{A:()=>o});var r=t(931),s=t(55);function o(){const e=(0,s.cW)();return{extendCouse:async e=>{var a,t,s;const o=await r.Z("/auth/purchase/extension","POST",{course_id:e});if(console.log(o),"string"===typeof o)return o.trim();const i=null!==(a=null!==(t=null===o||void 0===o?void 0:o.url)&&void 0!==t?t:null===o||void 0===o||null===(s=o.data)||void 0===s?void 0:s.url)&&void 0!==a?a:null===o||void 0===o?void 0:o.data;if("string"===typeof i)return i.trim();throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430")},getPayLink:async()=>{var e,a,t;const s=await r.Z("/auth/purchase","GET");if("string"===typeof s)return s.trim();const o=null!==(e=null!==(a=null===s||void 0===s?void 0:s.url)&&void 0!==a?a:null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.url)&&void 0!==e?e:null===s||void 0===s?void 0:s.data;if("string"===typeof o)return o.trim();throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430")},register:async e=>{const{registerEmail:a,registerPassword:t}=e,s={email:a,password:t};return await r.Z("/registerUser","POST",s)},auth:async a=>{const{loginEmail:t,loginPassword:s}=a,o={email:t,password:s},i=await r.Z("/authUser","POST",o);return i.ok&&(localStorage.setItem("token",i.data.jwt_token),e("auth")),i},recover:async e=>{const a={email:e};return await r.Z("/fogotPassword","POST",a)},sendRecover:async e=>{const{token:a,password:t}=e,s={new_pass:t,token:a};return await r.Z("/resetPassword","POST",s)},addCart:async e=>{const a={id_product:e},t=await r.Z("/auth/basket/add","POST",a);return t.ok&&s.U5.setState(a=>({cartDetails:[...a.cartDetails,e]})),t},remElemCart:async e=>{const a={delete_item_id:e},t=await r.Z("/auth/basket/item","DELETE",a);return t.ok&&s.U5.setState(a=>({cartDetails:a.cartDetails.filter(a=>a!==e)})),t}}}},834:(e,a,t)=>{t.r(a),t.d(a,{default:()=>_});var r=t(379);const s={input_container:"ModalLogin_input_container__B+xZb",input:"ModalLogin_input__mYHmW",input_wrapper:"ModalLogin_input_wrapper__Cd8lQ",utils:"ModalLogin_utils__Ok6GR","login-form":"ModalLogin_login-form__SQCXv",btn_wrapper:"ModalLogin_btn_wrapper__XS0DA",error:"ModalLogin_error__p0I1u",error_border:"ModalLogin_error_border__cu1IS",btn:"ModalLogin_btn__T643x",visible:"ModalLogin_visible__55fjo",wrapper_header:"ModalLogin_wrapper_header__9zeIb",container:"ModalLogin_container__bDWPF",buttons:"ModalLogin_buttons__qS0tl",selected:"ModalLogin_selected__nbdvj","nav-button":"ModalLogin_nav-button__xzfyB",title:"ModalLogin_title__AXhmb",toggle:"ModalLogin_toggle__OxxIZ",wrapper:"ModalLogin_wrapper__domLS",agreement:"ModalLogin_agreement__LnPZW",forgot_password:"ModalLogin_forgot_password__adE+v"};var o=t(43),i=t(216),n=t(475),l=t(342),d=t(858),c=t(113),u=t(55),p=t(579);function _(){var e,a,t,_,v,g;const m=(0,u.U5)(e=>e.check),[h,w]=(0,o.useState)(!1),{auth:b}=(0,l.A)(),x=(0,i.Zp)(),{register:L,setError:f,handleSubmit:C,formState:j}=(0,d.mN)({mode:"onSubmit",reValidateMode:"onSubmit"}),{errors:k}=j,[M,y]=(0,o.useState)(!1),S=null===(e=k.email)||void 0===e?void 0:e.message,Z=(null===(a=k.password)||void 0===a?void 0:a.message)||(null===(t=k.root)||void 0===t||null===(_=t.server)||void 0===_?void 0:_.message),N=Boolean(S),E=Boolean(Z),[A,P]=(0,o.useState)(""),[B,T]=(0,o.useState)("");return(0,o.useEffect)(()=>{S&&P(S)},[S]),(0,o.useEffect)(()=>{Z&&T(Z)},[Z]),(0,p.jsxs)("div",{className:s.wrapper,children:[M&&(0,p.jsx)(c.a,{}),(0,p.jsxs)("div",{className:s.wrapper_header,children:[(0,p.jsx)("h2",{onClick:()=>x("/"),children:"JULIIAZHIVAEVA"}),(0,p.jsx)("button",{onClick:()=>x("/"),children:(0,p.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.43868 0.43868C0.71993 0.157779 1.10118 0 1.49868 0C1.89618 0 2.27743 0.157779 2.55868 0.43868L26.5587 24.4387C26.7061 24.576 26.8243 24.7416 26.9062 24.9256C26.9882 25.1096 27.0323 25.3082 27.0359 25.5096C27.0394 25.711 27.0024 25.9111 26.9269 26.0979C26.8515 26.2847 26.7392 26.4543 26.5968 26.5968C26.4543 26.7392 26.2847 26.8515 26.0979 26.9269C25.9111 27.0024 25.711 27.0394 25.5096 27.0359C25.3082 27.0323 25.1096 26.9882 24.9256 26.9062C24.7416 26.8243 24.576 26.7061 24.4387 26.5587L0.43868 2.55868C0.157779 2.27743 0 1.89618 0 1.49868C0 1.10118 0.157779 0.71993 0.43868 0.43868Z",fill:"#FBE0F3"}),(0,p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26.5587 0.43868C26.8396 0.71993 26.9974 1.10118 26.9974 1.49868C26.9974 1.89618 26.8396 2.27743 26.5587 2.55868L2.55872 26.5587C2.27437 26.8236 1.89827 26.9679 1.50967 26.961C1.12107 26.9542 0.750299 26.7968 0.475473 26.5219C0.200646 26.2471 0.0432229 25.8763 0.0363665 25.4877C0.0295101 25.0991 0.173756 24.723 0.438716 24.4387L24.4387 0.43868C24.72 0.157779 25.1012 0 25.4987 0C25.8962 0 26.2775 0.157779 26.5587 0.43868Z",fill:"#FBE0F3"})]})})]}),(0,p.jsxs)("div",{className:s.container,children:[(0,p.jsxs)("div",{className:s.buttons,children:[(0,p.jsx)(n.k2,{to:"/login",className:e=>{let{isActive:a}=e;return"".concat(s["nav-button"]," ").concat(a?s.selected:"")},children:"\u0412\u0445\u043e\u0434"}),(0,p.jsx)(n.k2,{to:"/register",className:e=>{let{isActive:a}=e;return"".concat(s["nav-button"]," ").concat(a?s.selected:"")},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]}),(0,p.jsx)("h3",{className:s.title,children:"\u0421 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u0435\u043c!"}),(0,p.jsxs)("form",{className:s["login-form"],onSubmit:C(async e=>{let{email:a,password:t}=e;y(!0);const r=await b({loginEmail:a,loginPassword:t});if(r.ok)m(),y(!1),x("/");else{switch(r.message){case"error comparison password":f("password",{type:"server",message:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"});break;case"there is no user with this email, please register":f("email",{type:"server",message:"\u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"});break;default:f("password",{type:"server",message:"\u041d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430! \n \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u0432\u0445\u043e\u0434"})}y(!1)}}),noValidate:!0,children:[(0,p.jsxs)("div",{className:s.input_container,children:[(0,p.jsx)("input",(0,r.A)((0,r.A)({type:"email",placeholder:"\u041f\u043e\u0447\u0442\u0430"},L("email",{required:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",pattern:{value:/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/,message:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u043e\u0447\u0442\u044b, \u043f\u0440\u0438\u043c\u0435\u0440 - ivanova@mail.ru"}})),{},{className:"".concat(s.input," ").concat(null!==(v=k.email)&&void 0!==v&&v.message?s.error_border:"")})),(0,p.jsx)("p",{className:"".concat(s.error," ").concat(N?s.visible:""),children:A}),(0,p.jsxs)("div",{className:s.input_wrapper,children:[(0,p.jsx)("input",(0,r.A)((0,r.A)({type:h?"text":"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"},L("password",{required:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})),{},{className:"".concat(s.input," ").concat(null!==(g=k.password)&&void 0!==g&&g.message&&"server"!==k.password.type?s.error_border:"")})),(0,p.jsx)("button",{onClick:()=>w(!h),type:"button",className:s.toggle,children:(0,p.jsx)("img",{src:"/icons/eye.svg",alt:""})})]})]}),(0,p.jsxs)("div",{className:s.utils,children:[(0,p.jsx)("p",{className:"".concat(s.error," ").concat(E?s.visible:""),children:B}),(0,p.jsx)("p",{className:s.forgot_password,onClick:()=>x("/RecoverForm"),children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})]}),(0,p.jsxs)("button",{type:"submit",className:s.btn,children:["\u0412\u0425\u041e\u0414",(0,p.jsx)("svg",{width:"18",height:"21",viewBox:"0 0 18 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M16.9672 0.900716C16.9122 0.351172 16.4222 -0.0497718 15.8726 0.00518263L6.91728 0.900716C6.36774 0.955671 5.96679 1.44571 6.02175 1.99526C6.0767 2.5448 6.56675 2.94575 7.11629 2.89079L15.0766 2.09476L15.8726 10.0551C15.9276 10.6046 16.4176 11.0055 16.9672 10.9506C17.5167 10.8956 17.9176 10.4056 17.8627 9.85605L16.9672 0.900716ZM0.774414 19.5752L1.54837 20.2084L16.7461 1.63346L15.9721 1.00022L15.1982 0.366982L0.00045675 18.942L0.774414 19.5752Z",fill:"#FBE0F3"})})]})]})]})]})}}}]);
//# sourceMappingURL=834.6efa9cf2.chunk.js.map